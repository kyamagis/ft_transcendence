# typeof と instanceof

作成者: FukumaNaoya
最終更新日時: 2023年7月14日 11:45

`typeof`と`instanceof`は確かに似たような機能を持っていますが、それぞれが最も役立つ状況は異なります。それぞれの特徴とメリット・デメリットを以下に示します。

**typeof:**

- `typeof`は演算子で、指定した変数の型（実行時の型）を示す文字列を返します。
- `typeof`はプリミティブ型（`boolean`、`number`、`string`、`symbol`、`undefined`）と、`function`と`object`（nullも含む）を区別できます。

**メリット:**

1. `typeof`はJavaScriptの基本的なデータ型を簡単にチェックするのに役立ちます。
2. 型情報が不明な場合や動的に変更される可能性がある場合に便利です。

**デメリット:**

1. `typeof`は`null`を`object`として誤って認識します。
2. `typeof`は詳細なオブジェクト型（たとえば特定のクラスのインスタンス）を判断することはできません。

**instanceof:**

- `instanceof`はオペレータで、指定したオブジェクトが特定のクラスまたはコンストラクタ関数のインスタンスであるかどうかをチェックします。

**メリット:**

1. `instanceof`は特定のクラスやコンストラクタ関数のインスタンスであるかどうかを判定できます。これにより、より詳細な型情報を得ることができます。
2. プロトタイプチェーンを通じてチェックが行われるため、サブクラスのインスタンスも親クラスとして認識します。

**デメリット:**

1. `instanceof`はプリミティブ型をチェックすることができません。
2. 異なる実行環境（例えば、異なるフレームやウィンドウ）で作成されたオブジェクトをチェックするときに問題が生じることがあります。なぜなら、それぞれの実行環境はそれぞれのコンストラクタを持つためです。

したがって、どちらがより「実用的」であるかは、あなたが行おうとしている操作によります。それぞれの演算子は、特定の状況下で役立つ一方で、他の状況では役立たない可能性があるためです。