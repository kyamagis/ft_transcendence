# ３種のfor文

作成者: FukumaNaoya
最終更新日時: 2023年7月14日 11:05

それぞれの`for`ループの機能と制限について詳しく説明します。

1. **通常のforループ**:

```tsx
for (let i = 0; i < 10; i++) {
  console.log(i);
}

```

- このループは最も汎用的で、明示的な制御が可能です。開始値、終了条件、増分などを自由に設定できます。
- しかし、この形式のループはしばしば複雑で、特に複数のループ変数や複雑な終了条件を扱うときにはコードが読みにくくなりやすいです。
1. **for...inループ**:

```tsx
let obj = {a: 1, b: 2, c: 3};
for (let key in obj) {
  console.log(key);
}

```

- `for...in`ループはオブジェクトの列挙可能なプロパティ（独自のプロパティとプロトタイプチェーンを通じて継承したプロパティ）を走査します。
- しかし、オブジェクトのプロパティは挿入順ではなく、文字列としての順序（すべての数字キーが先に、次に文字列キーが来る）で反復されるため、これは意図しない結果をもたらすことがあります。
- さらに、配列に対して`for...in`ループを使用すると予想外の結果を得ることがあります（配列の添字以外のプロパティも反復される、等）。そのため、配列に対しては`for...in`よりも`for...of`や`Array.prototype.forEach()`を使用することが推奨されます。
1. **for...ofループ**:

```tsx
let arr = [1, 2, 3, 4, 5];
for (let value of arr) {
  console.log(value);
}

```

- `for...of`ループは配列や他の反復可能なオブジェクト（Map、Set、Stringなど）の要素を順番に反復します。
- しかし、一般のオブジェクトはデフォルトで反復不可能なので、`for...of`ループでは反復できません（オブジェクトを反復可能にするにはSymbol.iteratorメソッドを実装する必要があります）。
- また、`for...of`ループは反復処理の途中でインデックスにアクセスすることができません（ただし、配列を反復処理する場合は`Array.prototype.entries()`メソッドを使用してインデックスと値のペアを得ることができます）。